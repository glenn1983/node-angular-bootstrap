app.factory("userService",["$q","$http",function(e,r){function n(n,o){var s=e.defer();return r.post("/register",{username:n,password:o}).success(function(e,r){s.resolve(e)}).error(function(e,r){s.reject(e)}),s.promise}function o(n,o){var s=e.defer();return r.post("/login",{username:n,password:o}).success(function(e,r){s.resolve(e)}).error(function(e,r){s.reject(e)}),s.promise}function s(n){var o=e.defer();return r.post("/userInfo",{id:n}).success(function(e,r){o.resolve(e)}).error(function(e,r){o.reject(e)}),o.promise}function c(n){var o=e.defer();return r.get("/personal_center/get_record?id="+n.id).success(function(e,r){o.resolve(e)}).error(function(e,r){o.reject(e)}),o.promise}function t(n){var o=e.defer();return r.post("/personal_center/record",n).success(function(e,r){o.resolve(e)}).error(function(e,r){o.reject(e)}),o.promise}function u(n,o){var s=e.defer();return o?(r.post(n,o).success(function(e,r){s.resolve(e)}).error(function(e,r){s.reject(e)}),s.promise):(r.get(n).success(function(e,r){s.resolve(e)}).error(function(e,r){s.reject(e)}),s.promise)}return{reg:n,login:o,userInfo:s,recordList:c,record:t,sendInfo:u}}]);